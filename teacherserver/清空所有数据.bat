@echo off
chcp 65001 >nul
title 清空所有数据

REM ============================================================
REM 自动切换到脚本所在目录
REM ============================================================
cd /d "%~dp0"

REM ============================================================
REM 显示警告信息
REM ============================================================
echo.
echo ============================================================
echo   ⚠️  警告：此操作将清空所有数据！
echo ============================================================
echo.
echo 将清空以下内容：
echo   - 数据库中的所有表数据
echo   - 学生数据目录中的所有文件
echo   - 评价数据目录中的所有文件
echo   - 导出数据目录中的所有文件
echo.
echo ============================================================
echo.

REM ============================================================
REM 检查Python是否安装
REM ============================================================
python --version >nul 2>&1
if errorlevel 1 (
    echo [❌ 错误] 未检测到Python！
    echo.
    pause
    exit /b 1
)

REM ============================================================
REM 执行清空脚本
REM ============================================================
echo 正在执行清空操作...
echo.

python clear_all_data.py

if errorlevel 1 (
    echo.
    echo ============================================================
    echo   ❌ 清空操作失败！
    echo ============================================================
    echo.
    pause
    exit /b 1
)

echo.
echo ============================================================
echo   清空操作完成
echo ============================================================
echo.
pause

