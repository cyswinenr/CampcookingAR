# 📝 如何修改视频信息和排序

## 🎯 配置文件位置

所有视频信息都在这个文件中管理：

```
app/src/main/java/com/campcooking/ar/config/VideoConfig.kt
```

---

## 📋 视频信息包含的内容

每个视频配置包含以下字段：

| 字段 | 说明 | 示例 |
|------|------|------|
| `id` | 视频唯一编号 | `1` |
| `title` | 视频标题 | `"生火技巧"` |
| `description` | 视频详细描述 | `"学习如何快速安全地生火..."` |
| `duration` | 视频时长 | `"5:30"` (5分30秒) |
| `resourceName` | 视频文件名（不含.mp4） | `"video_fire_skills"` |
| `category` | 分类标签 | `"基础技能"` |
| `order` | 显示顺序 | `1` |

---

## 🔧 修改现有视频信息

### 1. 打开配置文件

在 Android Studio 中打开：
```
app/src/main/java/com/campcooking/ar/config/VideoConfig.kt
```

### 2. 找到要修改的视频

例如，修改第一个视频"生火技巧"：

```kotlin
Video(
    id = 1,
    title = "生火技巧",                    // ← 修改标题
    description = "学习如何快速安全地生火...",  // ← 修改描述
    duration = "5:30",                    // ← 修改时长
    resourceName = "video_fire_skills",   // ← 对应视频文件名
    category = "基础技能",                 // ← 修改分类
    order = 1                             // ← 修改排序
)
```

### 3. 修改示例

**修改标题：**
```kotlin
title = "野外生火教学",  // 从"生火技巧"改为"野外生火教学"
```

**修改描述：**
```kotlin
description = "本视频教你如何在野外安全生火。包括：\n" +
        "• 柴火的选择与准备\n" +
        "• 生火的步骤详解\n" +
        "• 安全注意事项\n" +
        "• 灭火方法",
```

**修改分类：**
```kotlin
category = "生火技能",  // 从"基础技能"改为"生火技能"
```

---

## 🔢 调整视频排序

### 方法1：修改 order 值（推荐）

`order` 值越小，视频越靠前显示。

**原始排序：**
```kotlin
Video(id = 1, title = "生火技巧", order = 1),    // 第1个
Video(id = 2, title = "食材准备", order = 2),    // 第2个
Video(id = 3, title = "烹饪步骤", order = 3),    // 第3个
```

**修改后（把"烹饪步骤"移到最前面）：**
```kotlin
Video(id = 1, title = "生火技巧", order = 2),    // 第2个
Video(id = 2, title = "食材准备", order = 3),    // 第3个
Video(id = 3, title = "烹饪步骤", order = 1),    // 第1个 ← 修改order
```

### 方法2：调整代码顺序

直接在 `VideoConfig.kt` 中移动整个 `Video()` 代码块：

```kotlin
fun getVideoList(): List<Video> {
    return listOf(
        // 把这个视频移到最前面
        Video(
            id = 3,
            title = "烹饪步骤",
            ...
        ),
        
        Video(
            id = 1,
            title = "生火技巧",
            ...
        ),
        
        Video(
            id = 2,
            title = "食材准备",
            ...
        )
    )
}
```

---

## ➕ 添加新视频

### 步骤1：准备视频文件

1. 视频文件放入：`app/src/main/res/raw/`
2. 文件名规则：**小写字母 + 下划线 + .mp4**
   - ✅ 正确：`cut_ribs.mp4`
   - ❌ 错误：`Cut Ribs.mp4`（有空格和大写）

### 步骤2：添加配置

在 `VideoConfig.kt` 的 `getVideoList()` 中添加：

```kotlin
fun getVideoList(): List<Video> {
    return listOf(
        // ... 现有视频 ...
        
        Video(
            id = 10,
            title = "活动总结",
            ...
        ),
        
        // ← 在这里添加逗号，然后添加新视频
        ,
        Video(
            id = 11,                        // 新的唯一ID
            title = "切排骨技巧",            // 标题
            description = "学习如何正确切排骨。包括：\n" +
                    "• 刀具的选择\n" +
                    "• 切割的角度和力度\n" +
                    "• 安全操作规范",
            duration = "4:20",               // 时长
            resourceName = "cut_ribs",       // 文件名（不含.mp4）
            category = "烹饪技能",           // 分类
            order = 11                       // 排序
        )
    )
}
```

### 完整示例

```kotlin
// 视频11：切排骨技巧
Video(
    id = 11,
    title = "切排骨技巧",
    description = "详细讲解排骨的切割方法和安全操作。学习内容：\n" +
            "• 刀具的正确使用\n" +
            "• 切割的技巧和角度\n" +
            "• 安全操作规范\n" +
            "• 常见问题处理",
    duration = "4:20",
    resourceName = "cut_ribs",  // 对应 raw/cut_ribs.mp4
    category = "烹饪技能",
    order = 11
),

// 视频12：生火方法
Video(
    id = 12,
    title = "快速生火方法",
    description = "学习快速安全的生火技巧。包括：\n" +
            "• 火种的准备\n" +
            "• 引火材料选择\n" +
            "• 生火步骤详解\n" +
            "• 火势控制方法",
    duration = "6:15",
    resourceName = "fire_making",  // 对应 raw/fire_making.mp4
    category = "基础技能",
    order = 12
)
```

---

## ❌ 删除视频

### 方法1：直接删除配置（推荐）

在 `VideoConfig.kt` 中删除整个 `Video()` 代码块：

```kotlin
// 删除这整段代码
Video(
    id = 5,
    title = "环境保护",
    description = "...",
    duration = "4:50",
    resourceName = "video_environment",
    category = "环保知识",
    order = 5
),  // ← 注意处理逗号
```

### 方法2：注释掉（临时隐藏）

```kotlin
/*
Video(
    id = 5,
    title = "环境保护",
    ...
),
*/
```

---

## 🏷️ 修改分类

### 当前的分类

在配置中使用的分类：
- 基础技能
- 烹饪技能
- 安全知识
- 环保知识
- 团队技能
- 总结反思

### 修改分类

直接修改 `category` 字段：

```kotlin
Video(
    ...
    category = "刀工技能",  // 自定义分类名称
    ...
)
```

### 统一分类

如果多个视频属于同一分类，确保 `category` 字段完全相同：

```kotlin
Video(id = 1, category = "烹饪技能", ...),
Video(id = 3, category = "烹饪技能", ...),  // ✅ 相同
Video(id = 8, category = "烹飪技能", ...),  // ❌ 不同（繁体字）
```

---

## ⏱️ 修改视频时长显示

格式：`"分:秒"` 或 `"分:秒"`

**示例：**
```kotlin
duration = "5:30"   // 5分30秒
duration = "12:05"  // 12分5秒
duration = "1:45"   // 1分45秒
duration = "20:00"  // 20分钟
```

**注意：** 这只是显示文本，不影响实际播放时长。

---

## 📝 修改视频描述格式

### 基本格式

```kotlin
description = "主要描述文字"
```

### 带列表的格式

```kotlin
description = "简介文字\n" +
        "• 要点1\n" +
        "• 要点2\n" +
        "• 要点3"
```

### 多段落格式

```kotlin
description = "第一段内容介绍。\n" +
        "\n" +
        "第二段详细说明。\n" +
        "\n" +
        "学习要点：\n" +
        "• 要点1\n" +
        "• 要点2"
```

### 特殊字符

```kotlin
description = "学习\"刀工\"技巧\n" +      // 引号
        "温度：100°C\n" +                 // 度数符号
        "比例：1:2:3"                     // 冒号
```

---

## 🔄 完整修改流程

### 示例：添加"切排骨"视频

**1. 准备视频文件**
- 文件名：`cut_ribs.mp4`
- 放入：`app/src/main/res/raw/cut_ribs.mp4`

**2. 打开配置文件**
```
app/src/main/java/com/campcooking/ar/config/VideoConfig.kt
```

**3. 找到最后一个视频**
```kotlin
Video(
    id = 10,
    title = "活动总结",
    ...
)
```

**4. 添加逗号和新视频**
```kotlin
Video(
    id = 10,
    title = "活动总结",
    ...
),  // ← 添加逗号

Video(
    id = 11,
    title = "切排骨技巧",
    description = "学习如何正确切排骨...",
    duration = "4:20",
    resourceName = "cut_ribs",
    category = "烹饪技能",
    order = 11
)
```

**5. 保存并重新编译**
- `Build` → `Clean Project`
- `Build` → `Rebuild Project`
- 运行应用

---

## 🎨 修改界面文字

### 页面标题

修改文件：`app/src/main/res/values/strings.xml`

```xml
<string name="video_page_title">微课视频</string>        <!-- 页面标题 -->
<string name="video_list_title">视频列表</string>        <!-- 列表标题 -->
```

### 其他文字

```xml
<string name="button_back">返回</string>
<string name="no_videos_found_hint">暂无视频</string>
```

---

## 🧪 测试清单

修改后请检查：

- [ ] 所有视频的 `id` 都是唯一的
- [ ] 所有视频文件都在 `res/raw/` 文件夹中
- [ ] 文件名只包含小写字母、数字、下划线
- [ ] `resourceName` 与实际文件名匹配（不含.mp4）
- [ ] 每个 `Video()` 之间有逗号分隔
- [ ] 最后一个 `Video()` 后面没有逗号
- [ ] 没有语法错误（IDE会提示）
- [ ] `order` 值正确反映了期望的显示顺序

---

## 🐛 常见错误

### 错误1：编译失败 - 缺少逗号

```kotlin
Video(id = 1, ...)
Video(id = 2, ...)  // ❌ 缺少逗号
```

**修复：**
```kotlin
Video(id = 1, ...),  // ✅ 添加逗号
Video(id = 2, ...)
```

### 错误2：视频文件未找到

```kotlin
resourceName = "Cut_Ribs"  // ❌ 文件名大小写不匹配
```

**修复：**
```kotlin
resourceName = "cut_ribs"  // ✅ 与文件名完全一致
```

### 错误3：重复的 ID

```kotlin
Video(id = 1, ...),
Video(id = 1, ...),  // ❌ ID重复
```

**修复：**
```kotlin
Video(id = 1, ...),
Video(id = 2, ...),  // ✅ 使用唯一ID
```

---

## 💡 实用技巧

### 技巧1：快速复制模板

在 `VideoConfig.kt` 底部有现成的模板：

```kotlin
/*
Video(
    id = 11,
    title = "视频标题",
    description = "视频详细描述\n" +
            "• 要点1\n" +
            "• 要点2",
    duration = "分:秒",
    resourceName = "视频文件名_不含扩展名",
    category = "分类名称",
    order = 11
)
*/
```

### 技巧2：批量修改分类

使用查找替换功能（Ctrl+R）：
- 查找：`category = "基础技能"`
- 替换：`category = "新分类名"`

### 技巧3：按分类组织

把相同分类的视频放在一起：

```kotlin
// === 基础技能 ===
Video(id = 1, category = "基础技能", ...),
Video(id = 2, category = "基础技能", ...),

// === 烹饪技能 ===
Video(id = 3, category = "烹饪技能", ...),
Video(id = 8, category = "烹饪技能", ...),
```

---

## 📁 文件对应关系

```
配置文件位置：
app/src/main/java/com/campcooking/ar/config/VideoConfig.kt

视频文件位置：
app/src/main/res/raw/
    ├── video_fire_skills.mp4
    ├── video_food_prep.mp4
    ├── cut_ribs.mp4          ← 新添加的视频
    └── fire_making.mp4

字符串资源：
app/src/main/res/values/strings.xml
```

---

## 🚀 修改后的操作步骤

1. **保存文件** - Ctrl+S
2. **Clean Project** - `Build` → `Clean Project`
3. **Rebuild Project** - `Build` → `Rebuild Project`
4. **运行应用** - 点击运行按钮
5. **检查效果** - 进入微课视频页面查看

---

## 📞 需要帮助？

如果遇到问题：
1. 检查 IDE 底部的错误提示
2. 确认文件名和配置完全匹配
3. 确保视频文件在正确的文件夹中
4. 重新 Clean 和 Rebuild 项目

---

**更新日期：** 2026-01-01  
**配置文件：** `VideoConfig.kt`  
**难度等级：** ⭐⭐ (容易)

